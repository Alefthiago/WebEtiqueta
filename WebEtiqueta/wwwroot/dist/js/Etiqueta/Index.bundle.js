(()=>{"use strict";const e=window.location.origin,a=$("#adicionarEtiqueta");$(document).ready((function(){$(document).on("click",".btn-excluir-etiqueta",(function(){!async function(a){const t=`${e}/Etiqueta/Delete/${a}`;if((await Swal.fire({icon:"warning",title:"Atenção",text:"Deseja realmente excluir essa etiqueta?",showCancelButton:!0,confirmButtonText:"Sim"})).isConfirmed)try{loadTabela("tabelaEtiquetasGeral",4);const e=await fetch(t,{method:"DELETE"});if(!e.ok){const a=e.headers.get("content-type");let t;return a&&a.includes("application/json")?(t=await e.json(),abrirAlertaPage("danger",t.mensagem,t.logSuporte)):(t=await e.text(),abrirAlertaPage("danger","Erro inesperado, tente novamente mais tarde ou entre em contato com o suporte")),void console.error("Erro: ",t)}abrirAlertaPage("success","Etiqueta excluída com sucesso")}catch(e){console.error("Erro: ",e),abrirAlertaPage("danger","Erro inesperado ao conectar com o servidor, tente novamente mais tarde ou entre em contato com o suporte")}finally{$("#tabelaEtiquetasGeral").DataTable().ajax.reload()}}($(this).data("id"))})),a.on("hidden.bs.modal",(()=>$("#formAdicionarEtiqueta").trigger("reset"))),new DataTable("#tabelaEtiquetasGeral",{responsive:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/1.11.3/i18n/pt_br.json",info:"",infoEmpty:"",infoFiltered:"",lengthMenu:"",loadingRecords:()=>loadTabela("tabelaEtiquetasGeral",4),paginate:{first:"<<",last:">>",next:">",previous:"<"}},pageLength:10,lengthChange:!1,ajax:{url:`${e}/Etiqueta/ListarEtiquetasExe`,type:"GET",data:function(e){e.skip=e.start,e.qtd=e.length,e.search=e.search.value,e.orderable=e.order[0].dir,e.order=e.order[0].column,loadTabela("tabelaEtiquetasGeral",4)},dataSrc:function(e){return e.data},error:function(e,a,t){if(void 0!==e.responseJSON){let a=e.responseJSON;console.error("Erro: ",a.logSuporte),abrirAlertaPage("danger",a.mensagem,a.logSuporte)}else console.error("Erro: ",t),abrirAlertaPage("danger","Erro inesperado ao conectar com o servidor, tente novamente mais tarde ou entre em contato com o suporte")}},columns:[{data:"nome"},{data:"modelo"},{data:"tipo"},{data:"id",render:function(a,t,r){return`\n                        <a href="${e}" class="btn btn-success btn-circle" title="Imprimir">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-printer-fill" viewBox="0 0 16 16">\n                              <path d="M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1"/>\n                              <path d="M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"/>\n                            </svg>\n                        </a>\n\n                        <a href="${e}/Etiqueta/Campos/${r.id}" class="btn btn-primary btn-circle" title="Campos">\n                            <i class="fas fa-info-circle"></i>\n                        </a>\n\n                        <a href="${e}/Etiqueta/Editar/${r.id}" class="btn btn-info btn-circle" title="Editar Modelo">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">\n                              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>\n                              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>\n                            </svg>\n                        </a>\n\n                        <a class="btn btn-danger btn-circle btn-excluir-etiqueta" title="Excluir" data-id="${r.id}">\n                            <i class="fas fa-trash"></i>\n                        </a>\n                    `}}],columnDefs:[{orderable:!1,targets:[3]}]})}))})();